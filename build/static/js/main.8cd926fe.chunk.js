(this.webpackJsonpconnect_project=this.webpackJsonpconnect_project||[]).push([[0],{208:function(e,t,n){},293:function(e,t){},295:function(e,t){},312:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var o,a=n(0),c=n.n(a),r=n(12),i=n.n(r),s=(n(208),n(11)),l=n(19),d=n(348),j=n(356),b=(n(209),n(358)),u=n(71),h=n.n(u),m=n(72),g=n.n(m),O=n(101),p=n.n(O),x=n(51),f=n(125),v=n(87),y=n(181),C=n(126),w=n.n(C),k=n(1),N=Object(a.createContext)(),S=function(e){var t,n=e.children,c=Object(a.useState)(null),r=Object(s.a)(c,2),i=r[0],d=r[1],j=Object(a.useState)("placeholder text"),b=Object(s.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)(null),g=Object(s.a)(m,2),O=g[0],p=(g[1],Object(a.useState)(!1)),x=Object(s.a)(p,2),C=x[0],S=x[1],I=Object(a.useState)(!1),B=Object(s.a)(I,2),_=B[0],R=B[1],P=Object(a.useState)(""),W=Object(s.a)(P,2),D=W[0],z=W[1],E=Object(a.useState)(!0),M=Object(s.a)(E,2),T=M[0],V=M[1],F=Object(a.useState)({}),J=Object(s.a)(F,2),A=J[0],U=J[1],L=Object(a.useState)(""),H=Object(s.a)(L,2),q=H[0],Y=H[1],K=Object(a.useRef)(),G=Object(a.useState)([]),Q=Object(s.a)(G,2),X=Q[0],Z=Q[1],$=Object(a.useState)([]),ee=Object(s.a)($,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){console.log("context hosting in useeffect")}),[]),Object(a.useEffect)((function(){console.log("Room update",X)}),[X]),Object(a.useEffect)((function(){(A.audio||A.video)&&navigator.mediaDevices.getUserMedia(A).then((function(e){d(e),console.log("update ref src stream")}))}),[A]);o&&(o.off("newUserJoined"),o.off("calluser"),o.off("callaccepted"),o.off("receiveMessage"),o.on("newUserJoined",(function(e){console.log("new user joined",e),ae(e.id,e.name)})),o.on("calluser",(function(e){var t=e.from,n=e.name,o=e.signal;console.log("CallUser function",t,n),oe(t,n,o)})),o.on("callaccepted",(function(e){console.log("callAccepted by",e.name),Z((function(t){var n=t.find((function(t){return t.id===e.id})),o=t.filter((function(t){return t.id!==e.id}));return n&&(n.name=e.name,n.peer.signal(e.signal),o.push(n)),o}))})),o.on("receiveMessage",(function(e){console.log("received message",e),ne((function(t){return[].concat(Object(v.a)(t),[Object(f.a)(Object(f.a)({},e),{},{time:new Date})])}))})),o.on("userLeft",(function(e){var t=X.find((function(t){return t.id===e}));t&&(console.log("user left",t.name),t.peer&&t.peer.destroy()),Z((function(t){return t.filter((function(t){return t.id!==e}))}))})));var oe=function(e,t,n){S(!0),console.log("answer call request");var a=new w.a({initiator:!1,trickle:!1,stream:i});a.on("signal",(function(t){o.emit("answercall",{signal:t,to:e})})),a.on("stream",(function(t){Z((function(n){var o=n.find((function(t){return t.id===e})),a=n.filter((function(t){return t.id!==e}));return o&&(o.stream=t,a.push(o)),a}))})),a.on("connect",(function(){console.log("connection established")})),a.signal(n),K.current=a;var c={peer:a,stream:null,id:e,name:t};Z((function(e){return[].concat(Object(v.a)(e),[c])}))};Object(a.useEffect)((function(){console.log("my stream updated",i)}),[i]);var ae=function(e,t){console.log("call User, stream ready ? ",i);var n=new w.a({initiator:!0,trickle:!1,stream:i});n.on("signal",(function(t){o.emit("calluser",{userToCall:e,signalData:t})})),n.on("stream",(function(t){console.log("received stream"),Z((function(t){var n=t.find((function(t){return t.id===e})),o=t.filter((function(t){return t.id!==e}));return n&&(n.stream=i,o.push(n)),o}))})),n.on("connect",(function(){console.log("connection established")})),K.current=n;var a={id:e,name:t,peer:n,stream:null};console.log("call and update room"),Z((function(e){return[].concat(Object(v.a)(e),[a])}))};console.log("stream after each render",i);return Object(k.jsx)(N.Provider,{value:(t={call:O,callAccepted:C,stream:i,name:D,room:X,setName:z,callEnded:_,me:u,showJoin:T,setShowJoin:V,config:A,setConfig:U,callId:q,setCallId:Y,leaveCall:function(){console.log("leave call"),R(!0),K.current&&K.current.destroy(),o.emit("leaveRoom",q),X.forEach((function(e){e.peer&&e.peer.destroy()}))},connectToServer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("connect to server"),o&&o.disconnect(),(o=Object(y.io)("/",{query:"name="+e+(t?"&createRoom=true":"")})).on("connect",(function(){console.log("connection to server established this is the socket id",o.id),h(o.id)}))}},Object(l.a)(t,"room",X),Object(l.a)(t,"joinRoom",(function(){o&&q&&o.emit("joinRoom",q)})),Object(l.a)(t,"chats",te),Object(l.a)(t,"sendMessage",(function(e){var t=q||u;o.emit("sendMessage",{roomId:t,message:e}),ne((function(t){return[].concat(Object(v.a)(t),[{from:u,name:D,message:e,time:new Date}])})),console.log("Sending message")})),t),children:n})},I=n(355),B=n(370),_=n(354),R=n(352),P=n(353),W=n(351),D=n(347),z=n(45);function E(e){var t=Object(z.a)(),n=(Object(D.a)(t.breakpoints.down("sm")),Object(a.useContext)(N).answerCall);return Object(k.jsx)(d.a,{children:Object(k.jsxs)(B.a,{open:e.openPermissionBox,onClose:e.onAdmitUser,"aria-labelledby":"UserAcceptPermission",children:[Object(k.jsxs)(W.a,{id:"responsive-dialog-title",children:[e.user||"User"," is Calling..."]}),Object(k.jsx)(R.a,{children:Object(k.jsxs)(P.a,{children:[e.user||"user"," want permission to join the call."]})}),Object(k.jsxs)(_.a,{children:[Object(k.jsx)(I.a,{variant:"contained",onClick:e.onAdmitUser,fullWidth:!0,color:"secondary",children:"Deny"}),Object(k.jsx)(I.a,{variant:"contained",autoFocus:!0,onClick:n,color:"primary",fullWidth:!0,children:"Accept"})]})]})})}var M=n(122),T=n.n(M),V=n(186),F=n.n(V),J=n(367),A=n(37),U=n(357),L=Object(j.a)((function(e){return{button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));function H(e){var t=L(e),n=Object(a.useContext)(N),o=n.name,c=n.me,r=n.showJoin,i=n.setShowJoin;return Object(k.jsx)(J.a,{className:t.button,children:Object(k.jsxs)(B.a,{open:e.openCallInfo,onClose:e.onClosingDialogBox,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(W.a,{id:"form-dialog-title",children:"Here's is the ID to your meeting "}),Object(k.jsxs)(R.a,{children:[Object(k.jsxs)(P.a,{children:["Hello ",o,",",Object(k.jsx)("br",{}),"Copy this id and send it to people that you want to connect with. ",Object(k.jsx)("br",{}),c||"Loading..."]}),Object(k.jsx)(F.a,{onCopy:function(){console.log("copied")},text:c,className:t.margin,children:Object(k.jsx)(I.a,{variant:"contained",color:"primary",startIcon:Object(k.jsx)(U.a,{fontSize:"large"}),children:"Copy Meeting ID"})})]}),Object(k.jsxs)(_.a,{children:[Object(k.jsx)(I.a,{onClick:e.onClosingDialogBox,color:"primary",children:"Cancel"}),r&&Object(k.jsx)(A.b,{to:"/Join",children:Object(k.jsx)(I.a,{color:"primary",onChange:function(){i(!1)}&&e.onClosingDialogBox,children:"Join"})})]})]})})}var q=n(13),Y=Object(j.a)((function(e){return{root:{backgroundColor:"#282c34",height:"100vh"},Video_Container:{height:"90%"},Option_container:{height:"10%",width:"100%",backgroundColor:"white"},SenderVideo_container:Object(l.a)({width:"75%",height:"90%",border:"1",borderRadius:"8px",color:"white",marginLeft:"2%"},e.breakpoints.down("xs"),{width:"100%",height:"85%"}),MyVideo_container:Object(l.a)({color:"white",border:"1",borderRadius:"8px",overflow:"hidden"},e.breakpoints.down("xs"),{width:"80%",height:"80%",marginRight:"4px"}),fullScreen:{marginLeft:"10%",height:"90%",width:"80%"},halfScreen:{position:"absolute",bottom:"14%",right:"2%",height:"25%",width:"20%"},MyVideo:{backgroundColor:"black",height:"100%",marginLeft:"10px",color:"white"},SenderVideo:Object(l.a)({backgroundColor:"black",height:"100%",marginLeft:"15px",border:"1",borderRadius:"5%",overflow:"hidden"},e.breakpoints.down("xs"),{width:"80%",height:"80%"}),video:{objectFit:"cover"}}}));Object(q.e)((function(e){var t=Y(e),n=Object(a.useContext)(N),o=n.sendMessage,c=n.callAccepted,r=n.myVideo,i=n.userVideo,l=n.callEnded,j=n.stream,u=n.call,m=n.room,O=n.leaveCall,f=(n.chats,Object(a.useState)(!1)),v=Object(s.a)(f,2),y=(v[0],v[1]),C=Object(a.useState)(!1),w=Object(s.a)(C,2),S=w[0],I=w[1];return Object(a.useEffect)((function(){o("hello everyone")}),[]),Object(k.jsxs)(d.a,{container:!0,component:"main",className:t.root,direction:"column",children:[Object(k.jsxs)(d.a,{container:!0,direction:"row",alignItems:"center",className:t.Video_Container,children:[m.length>0&&Object(k.jsxs)(d.a,{className:t.SenderVideo_container,children:[Object(k.jsx)("video",{playsInline:!0,height:"100%",width:"100%",ref:i,autoPlay:!0,className:t.video}),Object(k.jsx)(d.a,{children:Object(k.jsx)(x.a,{variant:"h5",gutterBottom:!0,children:u?u.name:"UserName"})})]}),j&&0==m.length&&Object(k.jsxs)(d.a,{className:t.MyVideo_container+" "+(!c||l?t.fullScreen:t.halfScreen),children:[Object(k.jsx)("video",{ref:r,muted:!0,height:"100%",width:"100%",autoPlay:!0,className:t.video}),Object(k.jsx)(d.a,{children:Object(k.jsx)(x.a,{color:"white",variant:"h5",gutterBottom:!0,children:"You"})})]})]}),Object(k.jsx)(d.a,{container:!0,direction:"row",className:t.Option_container,justify:"center",alignItems:"center",children:Object(k.jsxs)(d.a,{className:t.OptionsBox,children:[Object(k.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"Turn Mic off",children:Object(k.jsx)(h.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"primary",className:t.button,"aria-label":"Turn Video off",children:Object(k.jsx)(g.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"End Call",onClick:function(){e.history.push("/"),O()},children:Object(k.jsx)(p.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"primary",onClick:function(){I(!0)},className:t.button,"aria-label":"Call Details",children:Object(k.jsx)(T.a,{})}),S&&Object(k.jsx)(H,{openCallInfo:!0,onClosingDialogBox:function(){I(!1)}}),null!=u&&u.isReceivedCall&&!c&&Object(k.jsx)(E,{user:u.name,openPermissionBox:!0,onAdmitUser:function(){y(!1)}})]})})]})})),n(312);var K=n(372),G=(n(360),n(366)),Q=(n(362),n(369),n(359),n(350));n(123);Object(j.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));var X=n(187),Z=n.n(X),$=Object(j.a)((function(e){return{root:{backgroundImage:'url("./BackgroungImage.png")',height:"100vh"},videoBox:Object(l.a)({backgroundColor:"#262626",height:"50%",width:"40%",border:"1",borderRadius:"8px",overflow:"hidden"},e.breakpoints.down("xs"),{width:"80%",height:"80%"}),video:{objectFit:"cover"},button:{border:"1",borderRadius:"50%"},header:{height:"20%",border:"1"},logo:{backgroundImage:'url("./BackgroungImage.png")',height:"100%",zIndex:"10"},avatar:{margin:e.spacing(10),width:e.spacing(10),height:e.spacing(10),backgroundColor:e.palette.primary.main}}}));function ee(e){var t=Object(a.useRef)(),n=$(e),o=Object(a.useContext)(N),c=o.config,r=o.setConfig,i=o.stream,s=(o.name,o.callId),l=o.joinRoom;return Object(a.useEffect)((function(){t.current.srcObject=i}),[i]),Object(a.useEffect)((function(){console.log("after setting ref"),r({audio:!0,video:!0})}),[]),console.log("call id is ",s),Object(k.jsxs)(d.a,{container:!0,component:"main",direction:"row",className:n.root,children:[Object(k.jsx)(d.a,{className:n.header,children:Object(k.jsx)(d.a,{className:n.logo})}),Object(k.jsxs)(d.a,{container:!0,component:"main",direction:"column",alignItems:"center",justify:"center",children:[Object(k.jsx)(d.a,{className:n.videoBox,alignItems:"center",children:Object(k.jsx)("video",{height:"100%",width:"100%",muted:!0,ref:t,autoPlay:!0,className:n.video})}),Object(k.jsxs)(d.a,{children:[!0===c.audio?Object(k.jsx)(b.a,{onChange:function(){return r({audio:!1})},color:"secondary",className:n.button,"aria-label":"Turn Mic off",children:Object(k.jsx)(h.a,{})}):Object(k.jsx)(b.a,{onChange:function(){return r({audio:!0})},color:"primary",className:n.button,"aria-label":"Turn Mic on",children:Object(k.jsx)(Z.a,{})}),Object(k.jsx)(b.a,{color:"primary",className:n.button,"aria-label":"Turn Video off",children:Object(k.jsx)(g.a,{})}),Object(k.jsx)(A.b,{to:"/connect",children:Object(k.jsx)(I.a,{variant:"contained",onClick:function(){console.log("attempt to call",s),s&&l()},color:"primary",children:"Join"})})]})]})]})}var te=Object(j.a)((function(e){return{button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));function ne(e){var t=te(e),n=Object(a.useContext)(N),o=n.name,r=n.connectToServer,i=n.callId,l=n.setCallId,d=(n.joinRoom,c.a.useState(!1)),j=Object(s.a)(d,2),b=j[0],u=j[1],h=function(){u(!1)};return Object(k.jsxs)(J.a,{className:t.button,children:[Object(k.jsx)(I.a,{variant:"contained",color:"primary",onClick:function(){r(o),u(!0)},children:"Join with id"}),Object(k.jsxs)(B.a,{open:b,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(W.a,{id:"form-dialog-title",children:"Connect with people  "}),Object(k.jsxs)(R.a,{children:[Object(k.jsxs)(P.a,{children:["Hello ",o,",",Object(k.jsx)("br",{}),"Enter the meeting id to connent with people."]}),Object(k.jsx)(G.a,{autoFocus:!0,margin:"dense",id:"ID",label:"Enter meeting ID",type:"text",value:i,onChange:function(e){return l(e.target.value)},fullWidth:!0})]}),Object(k.jsxs)(_.a,{children:[Object(k.jsx)(I.a,{onClick:h,color:"primary",children:"Cancel"}),Object(k.jsx)(A.b,{to:"/Join",children:Object(k.jsx)(I.a,{onClick:function(){},color:"primary",children:"Join"})})]})]})]})}var oe=n(188),ae=n.n(oe),ce=Object(j.a)((function(e){return{root:{backgroundImage:'url("./BackgroungImage.png")',height:"100vh"},side_image:Object(l.a)({backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",height:"45%",width:"30%"},e.breakpoints.down("xs"),{width:"80%"}),avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},header:{height:"15%",width:"100%",border:"1"},button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));function re(e){console.log("welcome page constructor");var t=Object(a.useContext)(N),n=t.name,o=t.setName,c=t.connectToServer,r=Object(a.useState)(""),i=Object(s.a)(r,2),l=(i[0],i[1],ce(e)),j=Object(a.useState)(!1),b=Object(s.a)(j,2),u=b[0],h=b[1];return Object(k.jsx)(d.a,{container:!0,component:"main",className:l.root,children:Object(k.jsxs)(d.a,{container:!0,alignItems:"center",justify:"space-evenly",children:[Object(k.jsx)(d.a,{item:!0,className:l.side_image}),Object(k.jsxs)(d.a,{children:[Object(k.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(k.jsx)(d.a,{children:Object(k.jsx)(K.a,{className:l.avatar,children:Object(k.jsx)(ae.a,{})})}),Object(k.jsx)(d.a,{children:Object(k.jsx)(x.a,{component:"h1",variant:"h5",children:"Let's Connect"})})]}),Object(k.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(k.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Enter your Name",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return o(e.target.value)}}),Object(k.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(k.jsx)(I.a,{variant:"contained",color:"secondary",onClick:function(){c(n,!0),h(!0)},children:"New meeting"}),u&&Object(k.jsx)(H,{openCallInfo:!0,onClosingDialogBox:function(){h(!1)}}),Object(k.jsx)(ne,{})]})]})]})]})})}Object(j.a)((function(e){return{main_box:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%) scale(0)",transition:"200ms ease-in-out",borderRadius:"10px",zIndex:"10",backgroundColor:"white",width:"500px",maxWidth:"70%",fontFamily:"sans-serif"},header:{padding:"15px 15px",justifyContent:"space-between",display:"flex",borderBottom:"1px solid grey"},title:{fontSize:"1.25rem"},close_button:{cursor:"pointer",border:"none",outlined:"none",background:"none",fontSize:"1.25rem",fontWeight:"bold"},body:{padding:"15px 15px",color:"grey"},overlay:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0,0,0,0.5)",transition:"200ms ease-in-out",PointerEvent:"none"}}}));var ie=n(189),se=n.n(ie),le=n(190),de=n.n(le),je=n(191),be=n.n(je),ue=Object(j.a)((function(e){return{Option_container:{height:"100%",width:"100%",backgroundColor:"#1a1a1a"},Chat_participants_optionBox:{position:"absolute",right:"2%"}}}));var he=Object(q.e)((function(e){var t=ue(e),n=Object(a.useState)(!1),o=Object(s.a)(n,2),c=o[0],r=o[1],i=Object(a.useContext)(N).leaveCall;return Object(k.jsxs)(d.a,{container:!0,direction:"row",className:t.Option_container,justify:"center",alignItems:"center",children:[Object(k.jsxs)(d.a,{className:t.OptionsBox,children:[Object(k.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"Turn Mic off",children:Object(k.jsx)(h.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"primary",className:t.button,"aria-label":"Turn Video off",children:Object(k.jsx)(g.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"End Call",onClick:function(){e.history.push("/"),i()},children:Object(k.jsx)(p.a,{style:{fontSize:32}})})]}),Object(k.jsxs)(d.a,{className:t.Chat_participants_optionBox,children:[Object(k.jsx)(b.a,{color:"primary",onClick:function(){0===e.sideBox?e.onOpenChatWindow():1===e.sideBox?e.onCloseSideWindow():e.onOpenChatWindow()},className:t.button,"aria-label":"Turn Video off",children:Object(k.jsx)(se.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"secondary",onClick:function(){0===e.sideBox||1===e.sideBox?e.onOpenPeopleWindow():e.onCloseSideWindow()},className:t.button,"aria-label":"End Call",children:Object(k.jsx)(de.a,{style:{fontSize:32}})}),Object(k.jsx)(b.a,{color:"primary",onClick:function(){r(!0)},className:t.button,"aria-label":"Call Details",children:Object(k.jsx)(be.a,{style:{fontSize:32}})}),c&&Object(k.jsx)(H,{openCallInfo:!0,onClosingDialogBox:function(){r(!1)}})]})]})})),me=Object(j.a)((function(e){return{root:{border:"1 solid black",borderRadius:"8px",height:"80%",width:"80%",margin:"10%"},video:{height:"100%",width:"80%",objectFit:"cover"},name:{height:"10%",width:"100%",backgroundColor:"red"},nameContent:{color:"white"}}}));function ge(e){var t=me(e),n=Object(a.useContext)(N),o=n.stream,c=n.me,r=n.room;Object(a.useEffect)((function(){if(e.userId!==c){var t=r.find((function(t){return t.id===e.userId}));t&&(i.current.srcObject=t.stream)}else i.current.srcObject=o}),[e.userId]);var i=Object(a.useRef)();return Object(k.jsxs)(d.a,{className:t.root,children:[Object(k.jsx)(d.a,{className:t.video,children:Object(k.jsx)("video",{muted:!0,ref:i,height:"100%",width:"100%",autoPlay:!0,className:t.video})}),Object(k.jsx)(d.a,{className:t.name,children:Object(k.jsx)(x.a,{variant:"body",className:t.nameContent,children:e.name+"varsha"})})]})}var Oe=Object(j.a)((function(e){return{root:{border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},MyVideo_container:{height:"100%",width:"100%"}}}));function pe(e){var t=Oe(e),n=Object(a.useContext)(N),o=n.room,c=n.name,r=n.myVideo,i=n.stream;n.setConfig,n.callAccepted,n.callEnded;return Object(k.jsxs)(d.a,{className:t.root,children:[i&&Object(k.jsxs)(d.a,{className:t.MyVideo_container,children:[Object(k.jsx)(ge,{name:c,id:"1",userId:e.userId,video:r}),console.log("my vidoe ref=",r)]}),console.log(o[0])]})}var xe=n(361),fe=n(363),ve=n(365),ye=n(192),Ce=n.n(ye),we=n(364),ke=n(102),Ne=Object(j.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatar:{color:e.palette.getContrastText(ke.a[500]),backgroundColor:ke.a[500]}}}));function Se(e){var t=Ne(e),n=e.name.charAt(0),o=e.time.getHours(),a=e.time.getMinutes();return Object(k.jsxs)(fe.a,{children:[Object(k.jsx)(we.a,{children:Object(k.jsx)(K.a,{className:t.avatar,children:n})}),Object(k.jsx)(ve.a,{primary:Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:e.name+" "}),Object(k.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:o>=12?o-12+":"+a+" p.m.":o+":"+a+" a.m."})]}),secondary:e.message})]})}var Ie=n(124),Be=n.n(Ie),_e=n(373),Re=Object(j.a)((function(e){return{root:{backgroundColor:"white",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},body:{backgroundColor:"white",overflow:"auto",height:"90%",width:"100%"},input_footer:{height:"10%",display:"flex",alignItems:"center",width:"100%",backgroundColor:"#e3e5e8"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}}));function Pe(e){var t=Re(e),n=Object(a.useContext)(N),o=n.chats,c=n.sendMessage,r=Object(a.useState)(""),i=Object(s.a)(r,2),l=i[0],j=i[1],u=function(){l.trim()&&(c(l.trim()),j(""))};return Object(k.jsxs)(d.a,{className:t.root,children:[Object(k.jsx)(xe.a,{container:!0,direction:"column",className:t.body,children:o.map((function(e){return Object(k.jsx)(Se,{message:e.message,name:e.name,time:e.time})}))}),Object(k.jsx)(d.a,{className:t.inputFooter,children:Object(k.jsxs)(Q.a,{className:t.input_footer,children:[Object(k.jsx)(_e.a,{autoFocus:"true",className:t.input,placeholder:"Type your message",value:l,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||u()},onChange:function(e){return j(e.target.value)}}),Object(k.jsx)(b.a,{onClick:u,className:t.iconButton,children:Object(k.jsx)(Be.a,{color:"primary"})})]})})]})}var We=Object(j.a)((function(e){return{item:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatar:{color:e.palette.getContrastText(ke.a[500]),backgroundColor:ke.a[500]}}}));function De(e){var t=We(e),n=e.name.charAt(0);return Object(k.jsxs)(fe.a,{className:t.item,children:[Object(k.jsx)(we.a,{children:Object(k.jsx)(K.a,{className:t.avatar,children:n})}),Object(k.jsx)(ve.a,{primary:Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:e.name+" "})})})]})}var ze=Object(j.a)((function(e){return{root:{backgroundColor:"white",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},body:{backgroundColor:"white",height:"100%",width:"100%"},item:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatar:{color:e.palette.getContrastText(ke.a[500]),backgroundColor:ke.a[500]}}}));function Ee(e){var t=ze(e),n=Object(a.useContext)(N),o=n.room,r=n.name,i=r.charAt(0),s=o.length;return Object(k.jsx)(d.a,{className:t.root,children:Object(k.jsx)(d.a,{container:!0,direction:"column",className:t.body,children:Object(k.jsxs)(xe.a,{children:[Object(k.jsx)(fe.a,{className:t.item,children:Object(k.jsx)(ve.a,{primary:Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(x.a,{component:"span",variant:"h6",className:t.inline,color:"textPrimary",children:0===s?"Only you are in the call":s+" people joined the call"})})})}),Object(k.jsxs)(fe.a,{className:t.item,children:[Object(k.jsx)(we.a,{children:Object(k.jsx)(K.a,{className:t.avatar,children:i})}),Object(k.jsx)(ve.a,{primary:Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:r+"(You) "})})})]}),o.map((function(e){return Object(k.jsx)(De,{name:e.name})}))]})})})}var Me=Object(j.a)((function(e){return{root:{backgroundColor:"white",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},header:{height:"10%",width:"100%"},body:{height:"90%",width:"100%"},titleRoot:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline",fontSize:"20px",color:"grey"},closeButton:{position:"absolute",right:"2px",top:"2px"}}}));function Te(e){var t=Me(e);return Object(k.jsxs)(d.a,{className:t.root,children:[Object(k.jsxs)(d.a,{container:!0,direction:"row",className:t.header,children:[Object(k.jsx)(xe.a,{className:t.titleRoot,children:Object(k.jsx)(fe.a,{children:Object(k.jsx)(ve.a,{primary:Object(k.jsx)(c.a.Fragment,{children:Object(k.jsxs)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:[1===e.sideBox&&"In-call messages",2===e.sideBox&&"People in call"]})})})})}),Object(k.jsx)(d.a,{children:Object(k.jsx)(b.a,{className:t.closeButton,onClick:function(){e.onCloseSideWindow()},children:Object(k.jsx)(Ce.a,{})})})]}),Object(k.jsxs)(d.a,{className:t.body,children:[1===e.sideBox&&Object(k.jsx)(Pe,{}),2===e.sideBox&&Object(k.jsx)(Ee,{})]})]})}var Ve=Object(j.a)((function(e){return{root:{backgroundColor:"#b8e3f5",height:"100vh"},mainBody:{height:"92%",width:"100%"},videoContainer:{},fullScreen:{width:"100%",height:"100%"},halfScreen:{width:"77%",height:"100%"},sideWindow:{height:"100%",width:"23%"},optionFooter:{height:"8%",width:"100%"}}}));function Fe(e){var t=Ve(e),n=Object(a.useState)(0),o=Object(s.a)(n,2),c=o[0],r=o[1],i=Object(a.useContext)(N).me,l=function(){r(1)},j=function(){r(2)},b=function(){r(0)},u=Object(a.useState)(i),h=Object(s.a)(u,2),m=h[0];h[1];return Object(k.jsxs)(d.a,{className:t.root,container:!0,direction:"column",children:[Object(k.jsxs)(d.a,{className:t.mainBody,container:!0,direction:"row",children:[Object(k.jsx)(d.a,{className:t.videoContainer+" "+(0===c?t.fullScreen:t.halfScreen),children:Object(k.jsx)(pe,{userId:m})}),0!=c&&Object(k.jsx)(d.a,{className:t.sideWindow,children:Object(k.jsx)(Te,{sideBox:c,onOpenChatWindow:l,onOpenPeopleWindow:j,onCloseSideWindow:b})})]}),Object(k.jsx)(d.a,{className:t.optionFooter,children:Object(k.jsx)(he,{sideBox:c,onOpenChatWindow:l,onOpenPeopleWindow:j,onCloseSideWindow:b})})]})}var Je=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(q.a,{path:"/",exact:!0,children:Object(k.jsx)(re,{})}),Object(k.jsx)(q.a,{path:"/Welcome",children:Object(k.jsx)(re,{})}),Object(k.jsx)(q.a,{path:"/Join",children:Object(k.jsx)(ee,{})}),Object(k.jsx)(q.a,{exact:!0,path:"/Connect",children:Object(k.jsx)(Fe,{})})]})};i.a.render(Object(k.jsx)(A.a,{children:Object(k.jsx)(S,{children:Object(k.jsx)(Je,{})})}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.8cd926fe.chunk.js.map