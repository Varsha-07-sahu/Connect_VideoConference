(this.webpackJsonpconnect_project=this.webpackJsonpconnect_project||[]).push([[0],{208:function(e,t,n){},293:function(e,t){},295:function(e,t){},312:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var o,a=n(0),c=n.n(a),r=n(12),i=n.n(r),s=(n(208),n(11)),l=n(19),d=n(348),j=n(356),b=(n(209),n(358)),u=n(71),h=n.n(u),m=n(72),g=n.n(m),O=n(101),p=n.n(O),x=n(51),f=n(125),y=n(87),v=n(181),C=n(126),k=n.n(C),w=n(1),N=Object(a.createContext)(),S="http://localhost:5000",I=function(e){var t,n=e.children,c=Object(a.useState)(null),r=Object(s.a)(c,2),i=r[0],d=r[1],j=Object(a.useState)("placeholder text"),b=Object(s.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)(null),g=Object(s.a)(m,2),O=g[0],p=(g[1],Object(a.useState)(!1)),x=Object(s.a)(p,2),C=x[0],I=x[1],B=Object(a.useState)(!1),_=Object(s.a)(B,2),R=_[0],D=_[1],P=Object(a.useState)(""),W=Object(s.a)(P,2),z=W[0],E=W[1],M=Object(a.useState)(!0),T=Object(s.a)(M,2),V=T[0],F=T[1],J=Object(a.useState)({}),A=Object(s.a)(J,2),U=A[0],L=A[1],H=Object(a.useState)(""),q=Object(s.a)(H,2),Y=q[0],K=q[1],G=Object(a.useRef)(),Q=Object(a.useState)([]),X=Object(s.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)([]),te=Object(s.a)(ee,2),ne=te[0],oe=te[1];Object(a.useEffect)((function(){console.log("context hosting in useeffect")}),[]),Object(a.useEffect)((function(){console.log("Room update",Z)}),[Z]),Object(a.useEffect)((function(){(U.audio||U.video)&&navigator.mediaDevices.getUserMedia(U).then((function(e){d(e),console.log("update ref src stream")}))}),[U]);o&&(o.off("newUserJoined"),o.off("calluser"),o.off("callaccepted"),o.off("receiveMessage"),o.on("newUserJoined",(function(e){console.log("new user joined",e),ce(e.id,e.name)})),o.on("calluser",(function(e){var t=e.from,n=e.name,o=e.signal;console.log("CallUser function",t,n),ae(t,n,o)})),o.on("callaccepted",(function(e){console.log("callAccepted by",e.name),$((function(t){var n=t.find((function(t){return t.id===e.id})),o=t.filter((function(t){return t.id!==e.id}));return n&&(n.name=e.name,n.peer.signal(e.signal),o.push(n)),o}))})),o.on("receiveMessage",(function(e){console.log("received message",e),oe((function(t){return[].concat(Object(y.a)(t),[Object(f.a)(Object(f.a)({},e),{},{time:new Date})])}))})),o.on("userLeft",(function(e){var t=Z.find((function(t){return t.id===e}));t&&(console.log("user left",t.name),t.peer&&t.peer.destroy()),$((function(t){return t.filter((function(t){return t.id!==e}))}))})));var ae=function(e,t,n){I(!0),console.log("answer call request");var a=new k.a({initiator:!1,trickle:!1,stream:i});a.on("signal",(function(t){o.emit("answercall",{signal:t,to:e})})),a.on("stream",(function(t){$((function(n){var o=n.find((function(t){return t.id===e})),a=n.filter((function(t){return t.id!==e}));return o&&(o.stream=t,a.push(o)),a}))})),a.on("connect",(function(){console.log("connection established")})),a.signal(n),G.current=a;var c={peer:a,stream:null,id:e,name:t};$((function(e){return[].concat(Object(y.a)(e),[c])}))};Object(a.useEffect)((function(){console.log("my stream updated",i)}),[i]);var ce=function(e,t){console.log("call User, stream ready ? ",i);var n=new k.a({initiator:!0,trickle:!1,stream:i});n.on("signal",(function(t){o.emit("calluser",{userToCall:e,signalData:t})})),n.on("stream",(function(t){console.log("received stream"),$((function(t){var n=t.find((function(t){return t.id===e})),o=t.filter((function(t){return t.id!==e}));return n&&(n.stream=i,o.push(n)),o}))})),n.on("connect",(function(){console.log("connection established")})),G.current=n;var a={id:e,name:t,peer:n,stream:null};console.log("call and update room"),$((function(e){return[].concat(Object(y.a)(e),[a])}))};console.log("stream after each render",i);return Object(w.jsx)(N.Provider,{value:(t={call:O,callAccepted:C,stream:i,name:z,room:Z,setName:E,callEnded:R,me:u,showJoin:V,setShowJoin:F,config:U,setConfig:L,callId:Y,setCallId:K,leaveCall:function(){console.log("leave call"),D(!0),G.current&&G.current.destroy(),o.emit("leaveRoom",Y),Z.forEach((function(e){e.peer&&e.peer.destroy()}))},connectToServer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("connect to server"),o&&o.disconnect(),(o=Object(v.io)(S,{query:"name="+e+(t?"&createRoom=true":"")})).on("connect",(function(){console.log("connection to server established this is the socket id",o.id),h(o.id)}))}},Object(l.a)(t,"room",Z),Object(l.a)(t,"joinRoom",(function(){o&&Y&&o.emit("joinRoom",Y)})),Object(l.a)(t,"chats",ne),Object(l.a)(t,"sendMessage",(function(e){var t=Y||u;o.emit("sendMessage",{roomId:t,message:e}),oe((function(t){return[].concat(Object(y.a)(t),[{from:u,name:z,message:e,time:new Date}])})),console.log("Sending message")})),t),children:n})},B=n(355),_=n(370),R=n(354),D=n(352),P=n(353),W=n(351),z=n(347),E=n(45);function M(e){var t=Object(E.a)(),n=(Object(z.a)(t.breakpoints.down("sm")),Object(a.useContext)(N).answerCall);return Object(w.jsx)(d.a,{children:Object(w.jsxs)(_.a,{open:e.openPermissionBox,onClose:e.onAdmitUser,"aria-labelledby":"UserAcceptPermission",children:[Object(w.jsxs)(W.a,{id:"responsive-dialog-title",children:[e.user||"User"," is Calling..."]}),Object(w.jsx)(D.a,{children:Object(w.jsxs)(P.a,{children:[e.user||"user"," want permission to join the call."]})}),Object(w.jsxs)(R.a,{children:[Object(w.jsx)(B.a,{variant:"contained",onClick:e.onAdmitUser,fullWidth:!0,color:"secondary",children:"Deny"}),Object(w.jsx)(B.a,{variant:"contained",autoFocus:!0,onClick:n,color:"primary",fullWidth:!0,children:"Accept"})]})]})})}var T=n(122),V=n.n(T),F=n(186),J=n.n(F),A=n(367),U=n(37),L=n(357),H=Object(j.a)((function(e){return{button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));function q(e){var t=H(e),n=Object(a.useContext)(N),o=n.name,c=n.me,r=n.showJoin,i=n.setShowJoin;return Object(w.jsx)(A.a,{className:t.button,children:Object(w.jsxs)(_.a,{open:e.openCallInfo,onClose:e.onClosingDialogBox,"aria-labelledby":"form-dialog-title",children:[Object(w.jsx)(W.a,{id:"form-dialog-title",children:"Here's is the ID to your meeting "}),Object(w.jsxs)(D.a,{children:[Object(w.jsxs)(P.a,{children:["Hello ",o,",",Object(w.jsx)("br",{}),"Copy this id and send it to people that you want to connect with. ",Object(w.jsx)("br",{}),c||"Loading..."]}),Object(w.jsx)(J.a,{onCopy:function(){console.log("copied")},text:c,className:t.margin,children:Object(w.jsx)(B.a,{variant:"contained",color:"primary",startIcon:Object(w.jsx)(L.a,{fontSize:"large"}),children:"Copy Meeting ID"})})]}),Object(w.jsxs)(R.a,{children:[Object(w.jsx)(B.a,{onClick:e.onClosingDialogBox,color:"primary",children:"Cancel"}),r&&Object(w.jsx)(U.b,{to:"/Join",children:Object(w.jsx)(B.a,{color:"primary",onChange:function(){i(!1)}&&e.onClosingDialogBox,children:"Join"})})]})]})})}var Y=n(13),K=Object(j.a)((function(e){return{root:{backgroundColor:"#282c34",height:"100vh"},Video_Container:{height:"90%"},Option_container:{height:"10%",width:"100%",backgroundColor:"white"},SenderVideo_container:Object(l.a)({width:"75%",height:"90%",border:"1",borderRadius:"8px",color:"white",marginLeft:"2%"},e.breakpoints.down("xs"),{width:"100%",height:"85%"}),MyVideo_container:Object(l.a)({color:"white",border:"1",borderRadius:"8px",overflow:"hidden"},e.breakpoints.down("xs"),{width:"80%",height:"80%",marginRight:"4px"}),fullScreen:{marginLeft:"10%",height:"90%",width:"80%"},halfScreen:{position:"absolute",bottom:"14%",right:"2%",height:"25%",width:"20%"},MyVideo:{backgroundColor:"black",height:"100%",marginLeft:"10px",color:"white"},SenderVideo:Object(l.a)({backgroundColor:"black",height:"100%",marginLeft:"15px",border:"1",borderRadius:"5%",overflow:"hidden"},e.breakpoints.down("xs"),{width:"80%",height:"80%"}),video:{objectFit:"cover"}}}));Object(Y.e)((function(e){var t=K(e),n=Object(a.useContext)(N),o=n.sendMessage,c=n.callAccepted,r=n.myVideo,i=n.userVideo,l=n.callEnded,j=n.stream,u=n.call,m=n.room,O=n.leaveCall,f=n.chats,y=Object(a.useState)(!1),v=Object(s.a)(y,2),C=(v[0],v[1]),k=Object(a.useState)(!1),S=Object(s.a)(k,2),I=S[0],B=S[1];return Object(a.useEffect)((function(){o("hello everyone")}),[]),console.log("chats",f),Object(w.jsxs)(d.a,{container:!0,component:"main",className:t.root,direction:"column",children:[Object(w.jsxs)(d.a,{container:!0,direction:"row",alignItems:"center",className:t.Video_Container,children:[m.length>0&&Object(w.jsxs)(d.a,{className:t.SenderVideo_container,children:[Object(w.jsx)("video",{playsInline:!0,height:"100%",width:"100%",ref:i,autoPlay:!0,className:t.video}),Object(w.jsx)(d.a,{children:Object(w.jsx)(x.a,{variant:"h5",gutterBottom:!0,children:u?u.name:"UserName"})})]}),j&&0==m.length&&Object(w.jsxs)(d.a,{className:t.MyVideo_container+" "+(!c||l?t.fullScreen:t.halfScreen),children:[Object(w.jsx)("video",{ref:r,muted:!0,height:"100%",width:"100%",autoPlay:!0,className:t.video}),Object(w.jsx)(d.a,{children:Object(w.jsx)(x.a,{color:"white",variant:"h5",gutterBottom:!0,children:"You"})})]})]}),Object(w.jsx)(d.a,{container:!0,direction:"row",className:t.Option_container,justify:"center",alignItems:"center",children:Object(w.jsxs)(d.a,{className:t.OptionsBox,children:[Object(w.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"Turn Mic off",children:Object(w.jsx)(h.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"primary",className:t.button,"aria-label":"Turn Video off",children:Object(w.jsx)(g.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"End Call",onClick:function(){e.history.push("/"),O()},children:Object(w.jsx)(p.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"primary",onClick:function(){B(!0)},className:t.button,"aria-label":"Call Details",children:Object(w.jsx)(V.a,{})}),I&&Object(w.jsx)(q,{openCallInfo:!0,onClosingDialogBox:function(){B(!1)}}),null!=u&&u.isReceivedCall&&!c&&Object(w.jsx)(M,{user:u.name,openPermissionBox:!0,onAdmitUser:function(){C(!1)}})]})})]})})),n(312);var G=n(372),Q=(n(360),n(366)),X=(n(362),n(369),n(359),n(350));n(123);Object(j.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));var Z=n(187),$=n.n(Z),ee=Object(j.a)((function(e){return{root:{backgroundImage:'url("./BackgroungImage.png")',height:"100vh"},videoBox:Object(l.a)({backgroundColor:"#262626",height:"50%",width:"40%",border:"1",borderRadius:"8px",overflow:"hidden"},e.breakpoints.down("xs"),{width:"80%",height:"80%"}),video:{objectFit:"cover"},button:{border:"1",borderRadius:"50%"},header:{height:"20%",border:"1"},logo:{backgroundImage:'url("./BackgroungImage.png")',height:"100%",zIndex:"10"},avatar:{margin:e.spacing(10),width:e.spacing(10),height:e.spacing(10),backgroundColor:e.palette.primary.main}}}));function te(e){var t=Object(a.useRef)(),n=ee(e),o=Object(a.useContext)(N),c=o.config,r=o.setConfig,i=o.stream,s=(o.name,o.callId),l=o.joinRoom;return Object(a.useEffect)((function(){t.current.srcObject=i}),[i]),Object(a.useEffect)((function(){console.log("after setting ref"),r({audio:!0,video:!0})}),[]),console.log("call id is ",s),Object(w.jsxs)(d.a,{container:!0,component:"main",direction:"row",className:n.root,children:[Object(w.jsx)(d.a,{className:n.header,children:Object(w.jsx)(d.a,{className:n.logo})}),Object(w.jsxs)(d.a,{container:!0,component:"main",direction:"column",alignItems:"center",justify:"center",children:[Object(w.jsx)(d.a,{className:n.videoBox,alignItems:"center",children:Object(w.jsx)("video",{height:"100%",width:"100%",muted:!0,ref:t,autoPlay:!0,className:n.video})}),Object(w.jsxs)(d.a,{children:[!0===c.audio?Object(w.jsx)(b.a,{onChange:function(){return r({audio:!1})},color:"secondary",className:n.button,"aria-label":"Turn Mic off",children:Object(w.jsx)(h.a,{})}):Object(w.jsx)(b.a,{onChange:function(){return r({audio:!0})},color:"primary",className:n.button,"aria-label":"Turn Mic on",children:Object(w.jsx)($.a,{})}),Object(w.jsx)(b.a,{color:"primary",className:n.button,"aria-label":"Turn Video off",children:Object(w.jsx)(g.a,{})}),Object(w.jsx)(U.b,{to:"/connect",children:Object(w.jsx)(B.a,{variant:"contained",onClick:function(){console.log("attempt to call",s),s&&l()},color:"primary",children:"Join"})})]})]})]})}var ne=Object(j.a)((function(e){return{button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));function oe(e){var t=ne(e),n=Object(a.useContext)(N),o=n.name,r=n.connectToServer,i=n.callId,l=n.setCallId,d=(n.joinRoom,c.a.useState(!1)),j=Object(s.a)(d,2),b=j[0],u=j[1],h=function(){u(!1)};return Object(w.jsxs)(A.a,{className:t.button,children:[Object(w.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){r(o),u(!0)},children:"Join with id"}),Object(w.jsxs)(_.a,{open:b,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(w.jsx)(W.a,{id:"form-dialog-title",children:"Here's is the ID to your meeting "}),Object(w.jsxs)(D.a,{children:[Object(w.jsxs)(P.a,{children:["Hello ",o,",",Object(w.jsx)("br",{}),"Enter the meeting id to connent with people."]}),Object(w.jsx)(Q.a,{autoFocus:!0,margin:"dense",id:"ID",label:"Enter meeting ID",type:"text",value:i,onChange:function(e){return l(e.target.value)},fullWidth:!0})]}),Object(w.jsxs)(R.a,{children:[Object(w.jsx)(B.a,{onClick:h,color:"primary",children:"Cancel"}),Object(w.jsx)(U.b,{to:"/Join",children:Object(w.jsx)(B.a,{onClick:function(){},color:"primary",children:"Join"})})]})]})]})}var ae=n(188),ce=n.n(ae),re=Object(j.a)((function(e){return{root:{backgroundImage:'url("./BackgroungImage.png")',height:"100vh"},side_image:Object(l.a)({backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",height:"45%",width:"30%"},e.breakpoints.down("xs"),{width:"80%"}),avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},header:{height:"15%",width:"100%",border:"1"},button:{"& > *":{margin:e.spacing(2)},paper_connect:{backgroundImage:'url("./Desktop_image.jpg")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}}));function ie(e){console.log("welcome page constructor");var t=Object(a.useContext)(N),n=t.name,o=t.setName,c=t.connectToServer,r=Object(a.useState)(""),i=Object(s.a)(r,2),l=(i[0],i[1],re(e)),j=Object(a.useState)(!1),b=Object(s.a)(j,2),u=b[0],h=b[1];return Object(w.jsx)(d.a,{container:!0,component:"main",className:l.root,children:Object(w.jsxs)(d.a,{container:!0,alignItems:"center",justify:"space-evenly",children:[Object(w.jsx)(d.a,{item:!0,className:l.side_image}),Object(w.jsxs)(d.a,{children:[Object(w.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(w.jsx)(d.a,{children:Object(w.jsx)(G.a,{className:l.avatar,children:Object(w.jsx)(ce.a,{})})}),Object(w.jsx)(d.a,{children:Object(w.jsx)(x.a,{component:"h1",variant:"h5",children:"Let's Connect"})})]}),Object(w.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(w.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Enter your Name",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return o(e.target.value)}}),Object(w.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(w.jsx)(B.a,{variant:"contained",color:"secondary",onClick:function(){c(n,!0),h(!0)},children:"New meeting"}),u&&Object(w.jsx)(q,{openCallInfo:!0,onClosingDialogBox:function(){h(!1)}}),Object(w.jsx)(oe,{})]})]})]})]})})}Object(j.a)((function(e){return{main_box:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%) scale(0)",transition:"200ms ease-in-out",borderRadius:"10px",zIndex:"10",backgroundColor:"white",width:"500px",maxWidth:"70%",fontFamily:"sans-serif"},header:{padding:"15px 15px",justifyContent:"space-between",display:"flex",borderBottom:"1px solid grey"},title:{fontSize:"1.25rem"},close_button:{cursor:"pointer",border:"none",outlined:"none",background:"none",fontSize:"1.25rem",fontWeight:"bold"},body:{padding:"15px 15px",color:"grey"},overlay:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0,0,0,0.5)",transition:"200ms ease-in-out",PointerEvent:"none"}}}));var se=n(189),le=n.n(se),de=n(190),je=n.n(de),be=n(191),ue=n.n(be),he=Object(j.a)((function(e){return{Option_container:{height:"100%",width:"100%",backgroundColor:"#1a1a1a"},Chat_participants_optionBox:{position:"absolute",right:"2%"}}}));var me=Object(Y.e)((function(e){var t=he(e),n=Object(a.useState)(!1),o=Object(s.a)(n,2),c=o[0],r=o[1],i=Object(a.useContext)(N).leaveCall;return Object(w.jsxs)(d.a,{container:!0,direction:"row",className:t.Option_container,justify:"center",alignItems:"center",children:[Object(w.jsxs)(d.a,{className:t.OptionsBox,children:[Object(w.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"Turn Mic off",children:Object(w.jsx)(h.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"primary",className:t.button,"aria-label":"Turn Video off",children:Object(w.jsx)(g.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"secondary",className:t.button,"aria-label":"End Call",onClick:function(){e.history.push("/"),i()},children:Object(w.jsx)(p.a,{style:{fontSize:32}})})]}),Object(w.jsxs)(d.a,{className:t.Chat_participants_optionBox,children:[Object(w.jsx)(b.a,{color:"primary",onClick:function(){0===e.sideBox?e.onOpenChatWindow():1===e.sideBox?e.onCloseSideWindow():e.onOpenChatWindow()},className:t.button,"aria-label":"Turn Video off",children:Object(w.jsx)(le.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"secondary",onClick:function(){0===e.sideBox||1===e.sideBox?e.onOpenPeopleWindow():e.onCloseSideWindow()},className:t.button,"aria-label":"End Call",children:Object(w.jsx)(je.a,{style:{fontSize:32}})}),Object(w.jsx)(b.a,{color:"primary",onClick:function(){r(!0)},className:t.button,"aria-label":"Call Details",children:Object(w.jsx)(ue.a,{style:{fontSize:32}})}),c&&Object(w.jsx)(q,{openCallInfo:!0,onClosingDialogBox:function(){r(!1)}})]})]})})),ge=Object(j.a)((function(e){return{root:{backgroundColor:"black",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},video:{height:"90%",width:"100%"},name:{height:"10%",width:"100%"}}}));function Oe(e){var t=ge(e),n=Object(a.useContext)(N),o=n.stream,c=n.me,r=n.room;Object(a.useEffect)((function(){if(e.userId!==c){var t=r.find((function(t){return t.id===e.userId}));t&&(i.current.srcObject=t.stream)}else i.current.srcObject=o}),[e.userId]);var i=Object(a.useRef)();return Object(w.jsxs)(d.a,{className:t.root,children:[Object(w.jsx)(d.a,{className:t.video,children:Object(w.jsx)("video",{muted:!0,ref:i,height:"100%",width:"100%",autoPlay:!0,className:t.video})}),Object(w.jsx)(d.a,{className:t.name,children:Object(w.jsx)(x.a,{children:e.name})})]})}var pe=Object(j.a)((function(e){return{root:{border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},MyVideo_container:{height:"100%",width:"100%"}}}));function xe(e){var t=pe(e),n=Object(a.useContext)(N),o=n.room,c=n.name,r=n.myVideo,i=n.stream;n.setConfig,n.callAccepted,n.callEnded;return Object(w.jsxs)(d.a,{className:t.root,children:[i&&Object(w.jsxs)(d.a,{className:t.MyVideo_container,children:[Object(w.jsx)(Oe,{name:c,id:"1",userId:e.userId,video:r}),console.log("my vidoe ref=",r)]}),console.log(o[0])]})}var fe=n(361),ye=n(363),ve=n(365),Ce=n(192),ke=n.n(Ce),we=n(364),Ne=n(102),Se=Object(j.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatar:{color:e.palette.getContrastText(Ne.a[500]),backgroundColor:Ne.a[500]}}}));function Ie(e){var t=Se(e),n=e.name.charAt(0),o=e.time.getHours(),a=e.time.getMinutes();return Object(w.jsxs)(ye.a,{children:[Object(w.jsx)(we.a,{children:Object(w.jsx)(G.a,{className:t.avatar,children:n})}),Object(w.jsx)(ve.a,{primary:Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:e.name+" "}),Object(w.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:o>=12?o-12+":"+a+" p.m.":o+":"+a+" a.m."})]}),secondary:e.message})]})}var Be=n(124),_e=n.n(Be),Re=n(373),De=Object(j.a)((function(e){return{root:{backgroundColor:"white",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},body:{backgroundColor:"white",overflow:"auto",height:"90%",width:"100%"},input_footer:{height:"10%",display:"flex",alignItems:"center",width:"100%",backgroundColor:"#e3e5e8"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}}));function Pe(e){var t=De(e),n=Object(a.useContext)(N),o=n.chats,c=n.sendMessage,r=Object(a.useState)(""),i=Object(s.a)(r,2),l=i[0],j=i[1],u=function(){l.trim()&&(c(l.trim()),j(""))};return Object(w.jsxs)(d.a,{className:t.root,children:[Object(w.jsx)(fe.a,{container:!0,direction:"column",className:t.body,children:o.map((function(e){return Object(w.jsx)(Ie,{message:e.message,name:e.name,time:e.time})}))}),Object(w.jsx)(d.a,{className:t.inputFooter,children:Object(w.jsxs)(X.a,{className:t.input_footer,children:[Object(w.jsx)(Re.a,{autoFocus:"true",className:t.input,placeholder:"Type your message",value:l,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||u()},onChange:function(e){return j(e.target.value)}}),Object(w.jsx)(b.a,{onClick:u,className:t.iconButton,children:Object(w.jsx)(_e.a,{color:"primary"})})]})})]})}var We=Object(j.a)((function(e){return{item:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatar:{color:e.palette.getContrastText(Ne.a[500]),backgroundColor:Ne.a[500]}}}));function ze(e){var t=We(e),n=e.name.charAt(0);return Object(w.jsxs)(ye.a,{className:t.item,children:[Object(w.jsx)(we.a,{children:Object(w.jsx)(G.a,{className:t.avatar,children:n})}),Object(w.jsx)(ve.a,{primary:Object(w.jsx)(c.a.Fragment,{children:Object(w.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:e.name+" "})})})]})}var Ee=Object(j.a)((function(e){return{root:{backgroundColor:"white",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},body:{backgroundColor:"white",height:"100%",width:"100%"},item:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatar:{color:e.palette.getContrastText(Ne.a[500]),backgroundColor:Ne.a[500]}}}));function Me(e){var t=Ee(e),n=Object(a.useContext)(N),o=n.room,r=n.name,i=r.charAt(0),s=o.length;return Object(w.jsx)(d.a,{className:t.root,children:Object(w.jsx)(d.a,{container:!0,direction:"column",className:t.body,children:Object(w.jsxs)(fe.a,{children:[Object(w.jsx)(ye.a,{className:t.item,children:Object(w.jsx)(ve.a,{primary:Object(w.jsx)(c.a.Fragment,{children:Object(w.jsx)(x.a,{component:"span",variant:"h6",className:t.inline,color:"textPrimary",children:0===s?"Only you are in the call":s+" people joined the call"})})})}),Object(w.jsxs)(ye.a,{className:t.item,children:[Object(w.jsx)(we.a,{children:Object(w.jsx)(G.a,{className:t.avatar,children:i})}),Object(w.jsx)(ve.a,{primary:Object(w.jsx)(c.a.Fragment,{children:Object(w.jsx)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:r+"(You) "})})})]}),o.map((function(e){return Object(w.jsx)(ze,{name:e.name})}))]})})})}var Te=Object(j.a)((function(e){return{root:{backgroundColor:"white",border:"1 solid black",borderRadius:"8px",height:"100%",width:"100%"},header:{height:"10%",width:"100%"},body:{height:"90%",width:"100%"},titleRoot:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline",fontSize:"20px",color:"grey"},closeButton:{position:"absolute",right:"2px",top:"2px"}}}));function Ve(e){var t=Te(e);return Object(w.jsxs)(d.a,{className:t.root,children:[Object(w.jsxs)(d.a,{container:!0,direction:"row",className:t.header,children:[Object(w.jsx)(fe.a,{className:t.titleRoot,children:Object(w.jsx)(ye.a,{children:Object(w.jsx)(ve.a,{primary:Object(w.jsx)(c.a.Fragment,{children:Object(w.jsxs)(x.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:[1===e.sideBox&&"In-call messages",2===e.sideBox&&"People in call"]})})})})}),Object(w.jsx)(d.a,{children:Object(w.jsx)(b.a,{className:t.closeButton,onClick:function(){e.onCloseSideWindow()},children:Object(w.jsx)(ke.a,{})})})]}),Object(w.jsxs)(d.a,{className:t.body,children:[1===e.sideBox&&Object(w.jsx)(Pe,{}),2===e.sideBox&&Object(w.jsx)(Me,{})]})]})}var Fe=Object(j.a)((function(e){return{root:{backgroundColor:"#b8e3f5",height:"100vh"},mainBody:{height:"92%",width:"100%"},videoContainer:{},fullScreen:{width:"100%",height:"100%"},halfScreen:{width:"77%",height:"100%"},sideWindow:{height:"100%",width:"23%"},optionFooter:{height:"8%",width:"100%"}}}));function Je(e){var t=Fe(e),n=Object(a.useState)(0),o=Object(s.a)(n,2),c=o[0],r=o[1],i=Object(a.useContext)(N).me,l=function(){r(1)},j=function(){r(2)},b=function(){r(0)},u=Object(a.useState)(i),h=Object(s.a)(u,2),m=h[0];h[1];return Object(w.jsxs)(d.a,{className:t.root,container:!0,direction:"column",children:[Object(w.jsxs)(d.a,{className:t.mainBody,container:!0,direction:"row",children:[Object(w.jsx)(d.a,{className:t.videoContainer+" "+(0===c?t.fullScreen:t.halfScreen),children:Object(w.jsx)(xe,{userId:m})}),0!=c&&Object(w.jsx)(d.a,{className:t.sideWindow,children:Object(w.jsx)(Ve,{sideBox:c,onOpenChatWindow:l,onOpenPeopleWindow:j,onCloseSideWindow:b})})]}),Object(w.jsx)(d.a,{className:t.optionFooter,children:Object(w.jsx)(me,{sideBox:c,onOpenChatWindow:l,onOpenPeopleWindow:j,onCloseSideWindow:b})})]})}var Ae=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(Y.a,{path:"/",exact:!0,children:Object(w.jsx)(ie,{})}),Object(w.jsx)(Y.a,{path:"/Welcome",children:Object(w.jsx)(ie,{})}),Object(w.jsx)(Y.a,{path:"/Join",children:Object(w.jsx)(te,{})}),Object(w.jsx)(Y.a,{exact:!0,path:"/Connect",children:Object(w.jsx)(Je,{})})]})};i.a.render(Object(w.jsx)(U.a,{children:Object(w.jsx)(I,{children:Object(w.jsx)(Ae,{})})}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.19e1c279.chunk.js.map